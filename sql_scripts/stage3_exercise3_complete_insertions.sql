-- =============================================================================
-- STAGE 3, EXERCISE 3: PROBLEM-SOLVING CONVERSATIONS - COMPLETE DATA INSERTIONS
-- =============================================================================
-- This script contains ALL 5 items from stage3_exercise3.json
-- Run this after creating the table structure with ai_tutor_optimized_hierarchical_structure.sql
-- =============================================================================

-- Stage 3, Exercise 3: Problem-Solving Conversations (Complete Data - ALL 5 items)
INSERT INTO public.ai_tutor_content_hierarchy (level, hierarchy_path, parent_id, title, title_urdu, description, description_urdu, topic_number, topic_data, topic_order, category, difficulty) VALUES
('topic', '3.3.1', 15, 'Phone Not Working - Customer Support', 'فون کام نہیں کر رہا - کسٹمر سپورٹ', 'Practice customer support conversation for technical phone issues', 'تکنیکی فون مسائل کے لیے کسٹمر سپورٹ کی گفتگو کی مشق', 1, '{"title": "Phone Not Working - Customer Support", "title_urdu": "فون کام نہیں کر رہا - کسٹمر سپورٹ", "problem_description": "Your phone is not working properly. You need to call customer support to get help.", "problem_description_urdu": "آپ کا فون درست طریقے سے کام نہیں کر رہا۔ آپ کو مدد کے لیے کسٹمر سپورٹ کو فون کرنا ہے۔", "difficulty": "b1_intermediate", "category": "customer_service", "scenario_type": "technical_issue", "context": "You bought a new phone last week, but it''s been having problems. The screen freezes, apps crash, and sometimes it doesn''t turn on. You need to call customer support to get it fixed or replaced.", "context_urdu": "آپ نے پچھلے ہفتے ایک نیا فون خریدا تھا، لیکن اس میں مسائل آ رہے ہیں۔ سکرین جم جاتی ہے، ایپس کریش ہو جاتی ہیں، اور کبھی کبھی یہ آن نہیں ہوتا۔ آپ کو اسے ٹھیک کرانے یا تبدیل کرانے کے لیے کسٹمر سپورٹ کو فون کرنا ہے۔", "expected_keywords": ["not working", "problem", "issue", "help", "please", "fix", "broken", "customer support", "technical", "assistance"], "expected_keywords_urdu": ["کام نہیں کر رہا", "مسئلہ", "مدد", "براہ کرم", "ٹھیک کریں", "خراب", "کسٹمر سپورٹ", "تکنیکی", "مدد"], "polite_phrases": ["Could you please help me with...", "I''m having trouble with...", "I would appreciate if you could...", "Would it be possible to...", "I''m sorry to bother you, but..."], "polite_phrases_urdu": ["کیا آپ براہ کرم میری مدد کر سکتے ہیں...", "مجھے مسئلہ آ رہا ہے...", "میں شکر گزار ہوں گا اگر آپ...", "کیا یہ ممکن ہے کہ...", "معذرت، لیکن..."], "sample_responses": ["Hi, I''m calling because my phone isn''t working properly. Could you please help me?", "I''m having trouble with my new phone. The screen keeps freezing and apps crash. Can you assist me?", "I bought this phone last week, but it''s not working correctly. Would it be possible to get it fixed or replaced?"], "sample_responses_urdu": ["ہیلو، میں فون کر رہا ہوں کیونکہ میرا فون درست طریقے سے کام نہیں کر رہا۔ کیا آپ براہ کرم میری مدد کر سکتے ہیں؟", "مجھے اپنے نئے فون کے ساتھ مسئلہ آ رہا ہے۔ سکرین جم جاتی ہے اور ایپس کریش ہو جاتی ہیں۔ کیا آپ میری مدد کر سکتے ہیں؟", "میں نے یہ فون پچھلے ہفتے خریدا تھا، لیکن یہ درست طریقے سے کام نہیں کر رہا۔ کیا یہ ممکن ہے کہ اسے ٹھیک کیا جائے یا تبدیل کیا جائے؟"], "evaluation_criteria": {"clarity": "Clear description of the problem and its symptoms", "politeness": "Use of polite phrases and respectful tone", "request_structure": "Proper way to ask for help or assistance", "specificity": "Providing specific details about the issue", "solution_oriented": "Asking for specific solutions or next steps"}, "learning_objectives": ["Learn polite problem-solving language", "Practice functional English for daily use", "Build confidence in requesting help professionally", "Use appropriate customer service vocabulary", "Express technical issues clearly"], "type": "problem_solving"}', 1, 'customer_service', 'b1_intermediate'),
('topic', '3.3.2', 15, 'Lost Bag in Taxi', 'ٹیکسی میں بیگ گم ہو گیا', 'Practice recovery request conversation for lost items in taxi', 'ٹیکسی میں گم شدہ اشیاء کے لیے واپسی کی درخواست کی گفتگو کی مشق', 2, '{"title": "Lost Bag in Taxi", "title_urdu": "ٹیکسی میں بیگ گم ہو گیا", "problem_description": "You left your bag in a taxi. Call the taxi company to get it back.", "problem_description_urdu": "آپ نے اپنا بیگ ٹیکسی میں چھوڑ دیا۔ اسے واپس لانے کے لیے ٹیکسی کمپنی کو فون کریں۔", "difficulty": "b1_intermediate", "category": "lost_items", "scenario_type": "recovery_request", "context": "You took a taxi home from the mall. When you got home, you realized you left your bag in the taxi. The bag contains your wallet, phone, and important documents. You need to call the taxi company to try to get it back.", "context_urdu": "آپ نے مال سے گھر واپس جاتے ہوئے ٹیکسی لی۔ جب آپ گھر پہنچے تو آپ کو احساس ہوا کہ آپ نے اپنا بیگ ٹیکسی میں چھوڑ دیا ہے۔ بیگ میں آپ کا والیٹ، فون اور اہم دستاویزات ہیں۔ آپ کو بیگ واپس لانے کی کوشش کے لیے ٹیکسی کمپنی کو فون کرنا ہے۔", "expected_keywords": ["left", "bag", "taxi", "return", "location", "forgot", "lost", "important", "documents", "wallet", "phone"], "expected_keywords_urdu": ["چھوڑ دیا", "بیگ", "ٹیکسی", "واپس", "مقام", "بھول گیا", "گم", "اہم", "دستاویزات", "والیٹ", "فون"], "polite_phrases": ["I''m sorry to bother you, but...", "I was wondering if you could help me...", "Could you please check if...", "I would really appreciate if...", "Is there any way you could..."], "polite_phrases_urdu": ["معذرت، لیکن...", "میں سوچ رہا تھا کہ کیا آپ میری مدد کر سکتے ہیں...", "کیا آپ براہ کرم چیک کر سکتے ہیں کہ...", "میں واقعی شکر گزار ہوں گا اگر...", "کیا کوئی طریقہ ہے کہ آپ..."], "sample_responses": ["Hi, I''m calling because I left my bag in one of your taxis. Could you please help me find it?", "I was wondering if you could help me locate my bag. I forgot it in a taxi this afternoon.", "I''m sorry to bother you, but I left my bag in a taxi and it has important documents. Is there any way you could help me get it back?"], "sample_responses_urdu": ["ہیلو، میں فون کر رہا ہوں کیونکہ میں نے اپنا بیگ آپ کی ایک ٹیکسی میں چھوڑ دیا ہے۔ کیا آپ براہ کرم میری مدد کر سکتے ہیں؟", "میں سوچ رہا تھا کہ کیا آپ میری مدد کر سکتے ہیں۔ میں نے آج دوپہر ایک ٹیکسی میں اپنا بیگ بھول گیا۔", "معذرت، لیکن میں نے اپنا بیگ ٹیکسی میں چھوڑ دیا ہے اور اس میں اہم دستاویزات ہیں۔ کیا کوئی طریقہ ہے کہ آپ میری مدد کر سکتے ہیں؟"], "evaluation_criteria": {"clarity": "Clear description of the lost item and situation", "politeness": "Use of polite phrases and apologetic tone", "request_structure": "Proper way to ask for assistance", "specificity": "Providing specific details about the item and timing", "urgency_expression": "Conveying the importance of the situation"}, "learning_objectives": ["Learn polite problem-solving language", "Practice functional English for daily use", "Become comfortable handling stressful situations", "Express urgency appropriately", "Use appropriate vocabulary for lost items"], "type": "problem_solving"}', 2, 'lost_items', 'b1_intermediate'),
('topic', '3.3.3', 15, 'Missing School Assignment', 'اسکول کا کام غائب', 'Practice academic conversation for missed assignment submission', 'غلط شدہ کام جمع کرنے کے لیے تعلیمی گفتگو کی مشق', 3, '{"title": "Missing School Assignment", "title_urdu": "اسکول کا کام غائب", "problem_description": "You missed submitting your assignment. Talk to your teacher.", "problem_description_urdu": "آپ نے اپنا کام جمع کرنے میں غلطی کی۔ اپنے استاد سے بات کریں۔", "difficulty": "b1_intermediate", "category": "academic", "scenario_type": "apology_request", "context": "You had a family emergency yesterday and couldn''t complete your assignment on time. You need to talk to your teacher to explain the situation and ask for an extension.", "context_urdu": "آپ کو کل خاندانی ایمرجنسی تھی اور آپ وقت پر اپنا کام مکمل نہیں کر سکے۔ آپ کو اپنے استاد سے بات کرنی ہے تاکہ صورتحال کی وضاحت کر سکیں اور توسیع مانگ سکیں۔", "expected_keywords": ["missed", "submit", "assignment", "apology", "extension", "emergency", "family", "sick", "late", "excuse", "sorry"], "expected_keywords_urdu": ["غلطی", "جمع کرنا", "کام", "معذرت", "توسیع", "ایمرجنسی", "خاندان", "بیمار", "دیر", "عذر", "معاف کریں"], "polite_phrases": ["I''m sorry, but I couldn''t...", "I would like to explain why...", "Could I please have an extension...", "I understand this is my responsibility, but...", "Would it be possible to..."], "polite_phrases_urdu": ["معذرت، لیکن میں نہیں کر سکا...", "میں وضاحت کرنا چاہتا ہوں کہ کیوں...", "کیا میں براہ کرم توسیع لے سکتا ہوں...", "میں سمجھتا ہوں کہ یہ میری ذمہ داری ہے، لیکن...", "کیا یہ ممکن ہے کہ..."], "sample_responses": ["I''m sorry, but I couldn''t submit my assignment on time due to a family emergency. Could I please have an extension?", "I would like to explain why I missed the deadline. My family had an emergency yesterday, and I couldn''t complete the work.", "I understand this is my responsibility, but I had an unexpected family situation. Would it be possible to submit it tomorrow?"], "sample_responses_urdu": ["معذرت، لیکن میں خاندانی ایمرجنسی کی وجہ سے وقت پر اپنا کام جمع نہیں کر سکا۔ کیا میں براہ کرم توسیع لے سکتا ہوں؟", "میں وضاحت کرنا چاہتا ہوں کہ میں نے ڈیڈلائن کیوں غلطی کی۔ میرے خاندان کو کل ایمرجنسی تھی، اور میں کام مکمل نہیں کر سکا۔", "میں سمجھتا ہوں کہ یہ میری ذمہ داری ہے، لیکن میرے خاندان میں غیر متوقع صورتحال تھی۔ کیا یہ ممکن ہے کہ میں کل جمع کر دوں؟"], "evaluation_criteria": {"apology": "Sincere and appropriate apology", "explanation": "Clear explanation of the circumstances", "request_structure": "Proper way to ask for an extension", "responsibility": "Acknowledging personal responsibility", "politeness": "Use of polite and respectful language"}, "learning_objectives": ["Learn polite problem-solving language", "Practice making excuses professionally", "Build confidence in handling awkward situations", "Express apologies appropriately", "Use academic vocabulary correctly"], "type": "problem_solving"}', 3, 'academic', 'b1_intermediate'),
('topic', '3.3.4', 15, 'Restaurant Food Issue', 'ریستوران میں کھانے کا مسئلہ', 'Practice complaint resolution conversation for restaurant food problems', 'ریستوران کے کھانے کے مسائل کے لیے شکایت حل کرنے کی گفتگو کی مشق', 4, '{"title": "Restaurant Food Issue", "title_urdu": "ریستوران میں کھانے کا مسئلہ", "problem_description": "Your food is cold and not what you ordered. Talk to the waiter.", "problem_description_urdu": "آپ کا کھانا ٹھنڈا ہے اور وہ نہیں جو آپ نے آرڈر کیا تھا۔ ویٹر سے بات کریں۔", "difficulty": "b1_intermediate", "category": "customer_service", "scenario_type": "complaint_resolution", "context": "You ordered a hot meal at a restaurant, but when it arrived, it was cold and not what you ordered. You need to politely explain the issue to the waiter and ask for it to be corrected.", "context_urdu": "آپ نے ریستوران میں گرم کھانا آرڈر کیا، لیکن جب یہ آیا تو یہ ٹھنڈا تھا اور وہ نہیں جو آپ نے آرڈر کیا تھا۔ آپ کو ویٹر سے مسئلہ کی وضاحت کرنی ہے اور اسے درست کرنے کی درخواست کرنی ہے۔", "expected_keywords": ["cold", "wrong", "order", "food", "hot", "change", "please", "sorry", "problem", "correct", "meal"], "expected_keywords_urdu": ["ٹھنڈا", "غلط", "آرڈر", "کھانا", "گرم", "تبدیل", "براہ کرم", "معذرت", "مسئلہ", "درست", "کھانا"], "polite_phrases": ["I''m sorry, but there seems to be a problem...", "Could you please help me with...", "I ordered... but I received...", "Would it be possible to...", "I would appreciate if you could..."], "polite_phrases_urdu": ["معذرت، لیکن یہاں ایک مسئلہ لگتا ہے...", "کیا آپ براہ کرم میری مدد کر سکتے ہیں...", "میں نے آرڈر کیا... لیکن مجھے ملا...", "کیا یہ ممکن ہے کہ...", "میں شکر گزار ہوں گا اگر آپ..."], "sample_responses": ["I''m sorry, but there seems to be a problem with my order. I ordered a hot meal, but it''s cold. Could you please help me?", "I ordered the chicken pasta, but I received something different. Would it be possible to get the correct order?", "I would appreciate if you could help me with this. My food is cold and not what I ordered."], "sample_responses_urdu": ["معذرت، لیکن میرے آرڈر میں ایک مسئلہ لگتا ہے۔ میں نے گرم کھانا آرڈر کیا تھا، لیکن یہ ٹھنڈا ہے۔ کیا آپ براہ کرم میری مدد کر سکتے ہیں؟", "میں نے چکن پاستا آرڈر کیا تھا، لیکن مجھے کچھ مختلف ملا۔ کیا یہ ممکن ہے کہ درست آرڈر ملے؟", "میں شکر گزار ہوں گا اگر آپ میری مدد کر سکتے ہیں۔ میرا کھانا ٹھنڈا ہے اور وہ نہیں جو میں نے آرڈر کیا تھا۔"], "evaluation_criteria": {"politeness": "Use of polite and respectful tone", "clarity": "Clear description of the problem", "specificity": "Specific details about what was ordered vs received", "request_structure": "Proper way to ask for correction", "patience": "Maintaining calm and patient attitude"}, "learning_objectives": ["Learn polite problem-solving language", "Practice functional English for daily use", "Become comfortable handling complaints professionally", "Express dissatisfaction appropriately", "Use restaurant vocabulary correctly"], "type": "problem_solving"}', 4, 'customer_service', 'b1_intermediate'),
('topic', '3.3.5', 15, 'Late for Work', 'کام پر دیر سے پہنچنا', 'Practice workplace notification conversation for being late to work', 'کام پر دیر سے پہنچنے کے لیے ورک پلیس اطلاع کی گفتگو کی مشق', 5, '{"title": "Late for Work", "title_urdu": "کام پر دیر سے پہنچنا", "problem_description": "You''re going to be late for work. Call your boss.", "problem_description_urdu": "آپ کام پر دیر سے پہنچ رہے ہیں۔ اپنے باس کو فون کریں۔", "difficulty": "b1_intermediate", "category": "workplace", "scenario_type": "notification_apology", "context": "Your car broke down on the way to work, and you''re going to be about 30 minutes late. You need to call your boss to inform them and apologize for the inconvenience.", "context_urdu": "آپ کی گاڑی کام پر جاتے ہوئے خراب ہو گئی، اور آپ تقریباً 30 منٹ دیر سے پہنچیں گے۔ آپ کو اپنے باس کو فون کرنا ہے تاکہ انہیں اطلاع دیں اور تکلیف کے لیے معذرت کریں۔", "expected_keywords": ["late", "car", "broke", "down", "sorry", "inform", "boss", "work", "delay", "problem", "arrive"], "expected_keywords_urdu": ["دیر", "گاڑی", "خراب", "ہو گئی", "معذرت", "اطلاع", "باس", "کام", "تاخیر", "مسئلہ", "پہنچنا"], "polite_phrases": ["I''m calling to inform you that...", "I''m sorry, but I''m going to be late...", "I wanted to let you know that...", "I apologize for the inconvenience...", "I should arrive by..."], "polite_phrases_urdu": ["میں آپ کو اطلاع دینے کے لیے فون کر رہا ہوں کہ...", "معذرت، لیکن میں دیر سے پہنچوں گا...", "میں آپ کو بتانا چاہتا تھا کہ...", "میں تکلیف کے لیے معذرت خواہ ہوں...", "میں تقریباً... تک پہنچ جاؤں گا"], "sample_responses": ["Hi, I''m calling to inform you that I''m going to be late for work today. My car broke down on the way.", "I''m sorry, but I''m going to be about 30 minutes late. My car had some problems this morning.", "I wanted to let you know that I''ll be delayed. I apologize for the inconvenience, but my car broke down."], "sample_responses_urdu": ["ہیلو، میں آپ کو اطلاع دینے کے لیے فون کر رہا ہوں کہ آج میں کام پر دیر سے پہنچوں گا۔ راستے میں میری گاڑی خراب ہو گئی۔", "معذرت، لیکن میں تقریباً 30 منٹ دیر سے پہنچوں گا۔ آج صبح میری گاڑی میں کچھ مسائل تھے۔", "میں آپ کو بتانا چاہتا تھا کہ میں تاخیر سے پہنچوں گا۔ میں تکلیف کے لیے معذرت خواہ ہوں، لیکن میری گاڑی خراب ہو گئی۔"], "evaluation_criteria": {"notification": "Proper way to inform about lateness", "apology": "Sincere apology for the inconvenience", "explanation": "Clear explanation of the reason", "timing": "Providing estimated arrival time", "professionalism": "Maintaining professional tone"}, "learning_objectives": ["Learn polite problem-solving language", "Practice functional English for daily use", "Build confidence in handling workplace situations", "Express apologies professionally", "Use workplace vocabulary appropriately"], "type": "problem_solving"}', 5, 'workplace', 'b1_intermediate');

-- =============================================================================
-- VERIFICATION QUERIES
-- =============================================================================

-- Count topics for Stage 3, Exercise 3
SELECT COUNT(*) as total_topics FROM public.ai_tutor_content_hierarchy 
WHERE level = 'topic' AND hierarchy_path LIKE '3.3.%';

-- Show all topics for Stage 3, Exercise 3
SELECT topic_number, title, title_urdu, category, difficulty 
FROM public.ai_tutor_content_hierarchy 
WHERE level = 'topic' AND hierarchy_path LIKE '3.3.%' 
ORDER BY topic_number;

-- Summary of Stage 3, Exercise 3 data
SELECT 
    'Stage 3, Exercise 3: Problem-Solving Conversations' as exercise_name,
    COUNT(*) as total_items,
    STRING_AGG(DISTINCT category, ', ') as categories_covered
FROM public.ai_tutor_content_hierarchy 
WHERE level = 'topic' AND hierarchy_path LIKE '3.3.%';
